<!doctype html>
















<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" 
  
    data-mode="dark"
  
>
  <!-- The Head -->

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
    >
  
    
  
    
      
  
      
        
        
  
        
          <!-- it's a local file path -->
  
        
      
    
  
    
      <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="A deep dive into Docker" />
<meta property="og:locale" content="en" />
<meta name="description" content="Docker is a great straight forward way of using containerization. I’m a big fan, and use Docker to pretty much use Docker to run most of my lab." />
<meta property="og:description" content="Docker is a great straight forward way of using containerization. I’m a big fan, and use Docker to pretty much use Docker to run most of my lab." />
<link rel="canonical" href="https://sysblob.com/sysblob.github.io/posts/docker/" />
<meta property="og:url" content="https://sysblob.com/sysblob.github.io/posts/docker/" />
<meta property="og:image" content="https://sysblob.com/sysblob.github.io/images/docker.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-09-02T00:00:00-04:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://sysblob.com/sysblob.github.io/images/docker.png" />
<meta property="twitter:title" content="A deep dive into Docker" />
<meta name="twitter:site" content="@sysblob" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-09-11T01:01:24-04:00","datePublished":"2023-09-02T00:00:00-04:00","description":"Docker is a great straight forward way of using containerization. I’m a big fan, and use Docker to pretty much use Docker to run most of my lab.","headline":"A deep dive into Docker","image":"https://sysblob.com/sysblob.github.io/images/docker.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://sysblob.com/sysblob.github.io/posts/docker/"},"url":"https://sysblob.com/sysblob.github.io/posts/docker/"}</script>
<!-- End Jekyll SEO tag -->

    
  
    <title>A deep dive into Docker | 
    </title>
  
    <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/sysblob.github.io/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/sysblob.github.io/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/sysblob.github.io/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/sysblob.github.io/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/sysblob.github.io/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="">
<meta name="application-name" content="">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/sysblob.github.io/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
  
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
    
  
    <!-- GA -->
    
  
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
  
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">
  
    <link rel="stylesheet" href="/sysblob.github.io/assets/css/jekyll-theme-chirpy.css">
  
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.1/dist/tocbot.min.css">
    
  
    
      <!-- Manific Popup -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
    
  
    <!-- JavaScript -->
  
    
  
    <!-- A placeholder to allow defining custom metadata -->


    <link rel="stylesheet" href="/sysblob.github.io/assets/css/theme.css">
  </head>

  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/sysblob.github.io/">
      
        
        <img src="/sysblob.github.io/images/logo.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <div class="site-title">
      <a href="/sysblob.github.io/"></a>
    </div>
    <div class="site-subtitle fst-italic"></div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/sysblob.github.io/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/sysblob.github.io/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>CATEGORIES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/sysblob.github.io/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>TAGS</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/sysblob.github.io/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>ARCHIVES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/sysblob.github.io/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          

          <span>ABOUT</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
      

      
        <a
          href="https://github.com/Sysblob"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/sysblob"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['thesysblob','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/sysblob.github.io/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/sysblob.github.io/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>A deep dive into Docker</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row">
          <main
            aria-label="Main Content"
            class="col-12 col-lg-11 col-xl-9 px-md-4"
          >
            

<article class="px-1">
  
    
  
    <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
        <!-- add SVG placehoder -->
        
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
        <!-- add SVG placehoder -->
        
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
        <!-- add SVG placehoder -->
        
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- return -->




<header>
  <h1 data-toc-skip>A deep dive into Docker</h1>

  <div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Posted
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1693627200"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Sep  2, 2023
</time>

    </span>

    <!-- lastmod date -->
    
      <span>
        Updated
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1694408484"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Sep 11, 2023
</time>

      </span>
    

    
      
      
      

      

      <div class="mt-3 mb-3">
        <a href="/sysblob.github.io/images/docker.png" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/sysblob.github.io/images/docker.png"  alt="Preview Image" width="1200" height="630"  class="lazyload" data-proofer-ignore></a></div>
    

    <div class="d-flex justify-content-between">
      <!-- author(s) -->
      <span>
        

        By

        <em>
          
            <a href="https://twitter.com/sysblob">Sysblob</a>
          
        </em>
      </span>

      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="2065 words"
>
  <em>11 min</em> read</span>

    </div>
    <!-- .d-flex -->
  </div>
  <!-- .post-meta -->
</header>

<div class="content">
  <p>Docker is a great straight forward way of using containerization. I’m a big fan, and use Docker to pretty much use Docker to run most of my lab.</p>

<p>Refer to the Table of Contents if you are looking for something specific about Docker.</p>

<h2 id="what-is-docker"><span class="me-2">What is Docker?</span><a href="#what-is-docker" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>The brand Docker has become synonymous with containers like Kleenex is to tissues. The reason for Docker’s popularity is it makes running containers a whole streamlined ecosystem. While lots of really cool virtualization technology is taking place behind the scenes, the user’s experience is straight forward. Write a docker compose file which has all your components, point to an image on dockerhub to use for a baseline, tell it what ports it can use, and fire it up. Docker is great, but why do we even use containers? While this Docker guide isn’t meant to be an explanation of containers in general, let’s make sure we’re clear on the basics.</p>

<p>Most people know how a physical computer works. It has CPU, RAM, Storage, other hardware, and an operating system. Virtual machines take this concept further by installing something called a Hypervisor. Hypervisors can be classified in two forms. They can either be installed directly onto the hardware as you would an operating system, we call these baremetal hypervisors or type 1. VMWare’s ESXi or Proxmox would be example’s of a type 1 hypervisor. Or they can be installed on top of the operating system which we call type 2. VMWare’s VirtualBox is an example of a type 2 hypervisor. From these hypervisors you are able to allocate a fraction of your real physical resources to create a virtual machine.</p>

<p>In this sense a Virtual Machine is a complete emulation of a physical machine. It virtualizes everything right down to the hardware creating virtual cpus, virtual storage devices, a virtual network card, and everything else a computer needs to exist. Obviously this can be very taxing on resources since you have to virtualize so much. This is what brought about the necessity for containers.</p>

<p><a href="/sysblob.github.io/images/docker-diagram.png" class="popup img-link  shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 840 400'%3E%3C/svg%3E" data-src="/sysblob.github.io/images/docker-diagram.png" alt="containers vs virtual machines" width="840" height="400" class="lazyload" data-proofer-ignore></a></p>

<p>If virtual machines virtualize the hardware of physical machines then containers could be thought of as virtualizing an operating system. Containers are extremely lightweight, can start instantly, and have a footprint of mere Megabytes compared to Virtual Machines Gigabytes. Containers are able to perform this by sharing the operating system kernel. In other words, linux containers can only exist on a linux host, and windows containers can only exist on a windows host. The advantage here is you can then package a linux application with the bare minimum it takes to run, and it will run on any linux machine. Docker is a great and easy way of managing this container ecosystem.</p>

<p>If further understanding of virtualization is necessary this video goes into good concepts of not only what VMs and containers are but how the need for them developed. This need is first and foremost resource utilization. It’s easier to see once you jump into it. The next section is installing Docker.</p>

<iframe class="embed-video youtube lazyload" src="https://www.youtube.com/embed/cjXI-yxqGTI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>One last note on virtualization. We don’t live in a world where we have to choose between virtual machines and containers. Use both! The great thing about these two technologies is they work well together. If you create a virtual machine and then install docker onto it and run containers, you can then use the hypervisor to take snapshots of the VM and have full control over the environment docker is installed on.</p>

<h2 id="setup"><span class="me-2">Setup</span><a href="#setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<blockquote class="prompt-info">
  <p>This is a How-to guide on setting up Docker on Ubuntu Linux.</p>
</blockquote>

<p>These commands are taken directly from Docker documentation and explained for your convenience.</p>

<ol>
  <li>
    <p>Uninstall old docker versions to start fresh</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> <span class="nb">sudo </span>apt-get remove docker docker-engine docker.io containerd runc
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>Add Docker’s GPG key to your machine. This acts as a signature for the docker repo and lets your machine know to trust it. It also provides encryption during the file transfer process.</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> curl <span class="nt">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg | <span class="nb">sudo </span>gpg <span class="nt">--dearmor</span> <span class="nt">-o</span> /usr/share/keyrings/docker-archive-keyring.gpg
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>Next, use the following series of commands to send a script block to the terminal which points to the public GPG key that is now on the machine and tells the apt package manager to include the docker repository as a 3rd party trusted repo.</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre> <span class="nb">echo</span> <span class="se">\</span>
   <span class="s2">"deb [arch=</span><span class="si">$(</span>dpkg <span class="nt">--print-architecture</span><span class="si">)</span><span class="s2"> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu </span><span class="se">\</span><span class="s2">
   </span><span class="si">$(</span>lsb_release <span class="nt">-cs</span><span class="si">)</span><span class="s2"> stable"</span> | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/docker.list <span class="o">&gt;</span> /dev/null
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>Update the apt package index to include the new docker repo and install docker along with its engine and docker compose.</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> <span class="nb">sudo </span>apt update
</pre></td></tr></tbody></table></code></div>    </div>
    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> <span class="nb">sudo </span>apt <span class="nb">install </span>docker-ce docker-ce-cli containerd.io docker-compose-plugin
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>Verify docker is working as intended by running the test docker image.</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> <span class="nb">sudo </span>docker run hello-world
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>Add your current logged in user to the Docker linux group which has permissions equivalent to root for editing file systems for your containers. (If this group is missing you can use <code class="language-plaintext highlighter-rouge">sudo groupadd docker</code>)</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> <span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="nv">$USER</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>You can verify it worked by logging back in using <code class="language-plaintext highlighter-rouge">su -- username</code> then trying to run docker without sudo now.</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> docker run hello-world
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>On ubuntu Docker is added to start automatically but on other distributions you may need to use systemd the default system manager of most linux machines.</p>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> <span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker.service
</pre></td></tr></tbody></table></code></div>    </div>

    <div class="language-bash nolineno highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> <span class="nb">sudo </span>systemctl <span class="nb">enable </span>containerd.service
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
</ol>

<blockquote class="prompt-tip">
  <p>By default docker creates log files which can grow in size infinitely slowly taking away system resources. We correct this by adding log rotation. Either create or edit the file <code class="language-plaintext highlighter-rouge">/etc/docker/daemon.json</code> which is what controls daemon settings for docker. Add the following lines to setup log rotation with a max amount of 3 files at 50MB a piece before overwriting. We are also specifying that the log output should be in json. The JSON format annotates each line with its origin (stdout or stderr) and its timestamp. Each log file contains information about only one container.</p>
</blockquote>

<div class="language-json highlighter-rouge"><div class="code-header">
        <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="w">    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"log-driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"json-file"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"log-opts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"max-size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50m"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"max-file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w"> 
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></div></div>

<h2 id="usage"><span class="me-2">Usage</span><a href="#usage" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Docker has a couple terms you should be familiar with:</p>

<ul>
  <li><strong>DockerHub:</strong> The official Docker repository of premade images.</li>
  <li><strong>Image:</strong> The lightweight OS and dependencies downloaded from DockerHub which are needed for an application.</li>
  <li><strong>Bind:</strong> Docker images will often reference a port or a file directory inside and outside the container. For example “80:8080” in docker speak would be a bind for port 80 on the host to port 8080 inside the container.</li>
  <li><strong>Docker Compose:</strong> While you can run a single container by executing commands and referencing an image, you can also create a series of instructions for running one or many containers. This is called a compose file. Compose files are really the best way to re-use your images and containers.</li>
</ul>

<p>Let’s take a look at a docker-compose.yml file which can be used to create a self-hosted dashboard website called Homerr.</p>

<div class="language-yaml highlighter-rouge"><div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2"</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">homer</span><span class="pi">:</span>
      <span class="na">image</span><span class="pi">:</span> <span class="s">b4bz/homer</span>
      <span class="na">container_name</span><span class="pi">:</span> <span class="s">homer</span>
      <span class="na">volumes</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">/home/lucyadmin/docker/config/homer:/www/assets</span>
      <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">8092:8080</span>
      <span class="c1">#environment:</span>
      <span class="c1">#  - UID=1000</span>
      <span class="c1">#  - GID=1000</span>
      <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Let’s break down this compose file:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Version: "2"</code> - You will see versioning in a lot of Docker compose files but this is a deprecated practice. I used this as an example.</li>
  <li><code class="language-plaintext highlighter-rouge">Services:</code> - specify what services are running in your compose stack.</li>
  <li><code class="language-plaintext highlighter-rouge">homer:</code> - the container we are going to be using.</li>
  <li><code class="language-plaintext highlighter-rouge">image: b4bz/homer</code> - this tells the compose file where to download the image file from DockerHub</li>
  <li><code class="language-plaintext highlighter-rouge">container_name:</code> - specify name the container will be referenced by from now on</li>
  <li><code class="language-plaintext highlighter-rouge">volumes:</code> - Docker uses volumes to store its data. For simplicity we use binds here.</li>
  <li><code class="language-plaintext highlighter-rouge">/home/lucyadmin/homer:www/assets</code> - This bind is saying the files that are located in /home/lucyadmin/homer are mounted inside the container at the location www/assets.</li>
  <li><code class="language-plaintext highlighter-rouge">ports:</code> - We can specify what ports are outside the container</li>
  <li><code class="language-plaintext highlighter-rouge">8092:8080</code> - Here we are saying port 8092 on the host machine is bound to 8080 inside the container</li>
  <li><code class="language-plaintext highlighter-rouge">UID/GUID:</code> - You can typically specify in a compose file which user or group will have permissions over the files written into the volumes.</li>
  <li><code class="language-plaintext highlighter-rouge">restart: unless-stopped</code> - Ensures docker container is started upon reboot of the host machine.</li>
</ul>

<p>We launch a docker compose stack by creating the yml file and launching it with the compose up command. The -d portion stands for detached and it makes it so the compose stack runs in the background in its own terminal.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker compose up <span class="nt">-d</span>
</pre></td></tr></tbody></table></code></div></div>

<p>You now should be able to access your server by going to the hostname:portnumber in your web browser.</p>

<p>This is using compose, however you can use Docker directly to spin up containers too. Here are some general Docker use commands.</p>

<h3 id="running-containers"><span class="me-2">Running containers</span><a href="#running-containers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Use the run command to start a new container from an image:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker run nginx
</pre></td></tr></tbody></table></code></div></div>
<p>assign it a name:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker run <span class="nt">--name</span> web nginx <span class="c"># web is the name and nginx the container</span>
</pre></td></tr></tbody></table></code></div></div>
<p>map a port:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>docker run <span class="nt">-p</span> HOSTPORT:CONTAINERPORT IMAGE
docker run <span class="nt">-p</span> 8080:80 nginx
</pre></td></tr></tbody></table></code></div></div>

<p>run the container as a background process:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker run <span class="nt">-d</span> nginx
</pre></td></tr></tbody></table></code></div></div>
<p>assign it a hostname:</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker run <span class="nt">--hostname</span> svr01 nginx
</pre></td></tr></tbody></table></code></div></div>
<p>add a dns entry:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker run <span class="nt">--add-host</span> HOSTNAME:IP IMAGE
</pre></td></tr></tbody></table></code></div></div>
<p>map a local directory into the container:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>docker run <span class="nt">-v</span> HOSTDIR:TARGETDIR IMAGE
docker <span class="nt">-v</span> ~/:/usr/share/nginx/html nginx
</pre></td></tr></tbody></table></code></div></div>
<h3 id="managing-containers"><span class="me-2">Managing containers</span><a href="#managing-containers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>list containers:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>docker ps <span class="c"># show running containers</span>
docker ps <span class="nt">-a</span> <span class="c"># show all containers</span>
</pre></td></tr></tbody></table></code></div></div>
<p>delete a container:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker <span class="nb">rm </span>containername <span class="c"># you can add -f if container is running to force</span>
</pre></td></tr></tbody></table></code></div></div>
<p>start/stop a running container:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>docker stop containername
docker start containername
</pre></td></tr></tbody></table></code></div></div>
<p>copy file between docker:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>docker <span class="nb">cp </span>containername:filename filename <span class="c"># docker to host</span>
docker <span class="nb">cp </span>filename containername:filename <span class="c"># host to docker</span>
</pre></td></tr></tbody></table></code></div></div>
<p>rename a container:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker rename oldname newname
</pre></td></tr></tbody></table></code></div></div>
<p>start shell inside container:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker <span class="nb">exec</span> <span class="nt">-it</span> containername bash
</pre></td></tr></tbody></table></code></div></div>
<h3 id="managing-images"><span class="me-2">Managing images</span><a href="#managing-images" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>download an image:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker pull imagename
</pre></td></tr></tbody></table></code></div></div>
<p>delete an image:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker rmi imagename
</pre></td></tr></tbody></table></code></div></div>
<p>list all images:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker images
</pre></td></tr></tbody></table></code></div></div>

<h3 id="informational-and-utility"><span class="me-2">Informational and Utility</span><a href="#informational-and-utility" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>check version of docker:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker version
</pre></td></tr></tbody></table></code></div></div>

<p>show stats of running containers:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker stats
</pre></td></tr></tbody></table></code></div></div>

<p>show processes of a container:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker top containername
</pre></td></tr></tbody></table></code></div></div>

<p>show mapped ports of a container:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker port containername
</pre></td></tr></tbody></table></code></div></div>

<h2 id="docker-logging"><span class="me-2">Docker logging</span><a href="#docker-logging" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="configuring-docker-logs"><span class="me-2">Configuring docker logs</span><a href="#configuring-docker-logs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>By default docker creates log files which can grow in size infinitely slowly taking away system resources. We correct this by adding log rotation. Either create or edit the file /etc/docker/daemon.json which is what controls daemon settings for docker. Add the following lines to setup log rotation with a max amount of 3 files at 50MB a piece before overwriting. We are also specifying that the log output should be in json. The JSON format annotates each line with its origin (stdout or stderr) and its timestamp. Each log file contains information about only one container.</p>

<div class="language-json highlighter-rouge"><div class="code-header">
        <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"log-driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"json-file"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"log-opts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"max-size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50m"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max-file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></div></div>

<h3 id="docker-log-location"><span class="me-2">Docker log location</span><a href="#docker-log-location" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>If you come across an issue where you need to delve into Docker logs they can be located on the host where the container is running. First obtain your docker container ID, then look for the log found here:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>/var/lib/docker/containers/&lt;containerid&gt;
</pre></td></tr></tbody></table></code></div></div>

<h3 id="using-log-commands"><span class="me-2">Using log commands</span><a href="#using-log-commands" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>list all running containers, use the docker ps command.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker ps
</pre></td></tr></tbody></table></code></div></div>
<p>Then, with the docker logs command you can list the logs for a particular container.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker logs &lt;container_id&gt;
</pre></td></tr></tbody></table></code></div></div>
<p>Most of the time you’ll end up tailing these logs in real time, or checking the last few logs lines.
Using the –follow or -f flag will tail -f (follow) the Docker container logs:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker logs &lt;container_id&gt; <span class="nt">-f</span>
</pre></td></tr></tbody></table></code></div></div>
<p>The –tail flag will show the last number of log lines you specify:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker logs &lt;container_id&gt; <span class="nt">--tail</span> N
</pre></td></tr></tbody></table></code></div></div>
<p>The -t or –timestamp flag will show the timestamps of the log lines:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker logs &lt;container_id&gt; <span class="nt">-t</span>
</pre></td></tr></tbody></table></code></div></div>
<p>The –details flag will show extra details about the log lines:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker logs &lt;container_id&gt; <span class="nt">--details</span>
</pre></td></tr></tbody></table></code></div></div>
<p>But what if you only want to see specific logs? Luckily, grep works with Docker logs as well.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker logs &lt;container_id&gt; | <span class="nb">grep </span>pattern
</pre></td></tr></tbody></table></code></div></div>
<p>This command will only show errors:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker logs &lt;container_id&gt; | <span class="nb">grep</span> <span class="nt">-i</span> error
</pre></td></tr></tbody></table></code></div></div>
<p>Once an application starts growing, you tend to start using Docker Compose. Don’t worry, it has a logs command as well.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed=""><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker compose logs
</pre></td></tr></tbody></table></code></div></div>
<p>This will display the logs from all services in the application defined in the Docker Compose configuration file.</p>

<h2 id="cheat-sheet"><span class="me-2">Cheat Sheet</span><a href="#cheat-sheet" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p><a href="/sysblob.github.io/images/dockercheatsheet.png" class="popup img-link  shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 840 400'%3E%3C/svg%3E" data-src="/sysblob.github.io/images/dockercheatsheet.png" alt="Docker commands" width="840" height="400" class="lazyload" data-proofer-ignore></a></p>


</div>

<div class="post-tail-wrapper text-muted">
  <!-- categories -->
  
    <div class="post-meta mb-3">
      <i class="far fa-folder-open fa-fw me-1"></i>
      
        <a href="/sysblob.github.io/categories/development/">development</a>
    </div>
  

  <!-- tags -->
  
    <div class="post-tags">
      <i class="fa fa-tags fa-fw me-1"></i>
      
        <a
          href="/sysblob.github.io/tags/docker/"
          class="post-tag no-text-decoration"
        >docker</a>
      
        <a
          href="/sysblob.github.io/tags/containers/"
          class="post-tag no-text-decoration"
        >containers</a>
      
        <a
          href="/sysblob.github.io/tags/devops/"
          class="post-tag no-text-decoration"
        >devops</a>
      
    </div>
  

  <div
    class="
      post-tail-bottom
      d-flex justify-content-between align-items-center mt-5 pb-2
    "
  >
    <div class="license-wrapper">
      
        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted me-1">Share</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=A%20deep%20dive%20into%20Docker%20-%20&url=https%3A%2F%2Fsysblob.com%2Fsysblob.github.io%2Fposts%2Fdocker%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=A%20deep%20dive%20into%20Docker%20-%20&u=https%3A%2F%2Fsysblob.com%2Fsysblob.github.io%2Fposts%2Fdocker%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=https%3A%2F%2Fsysblob.com%2Fsysblob.github.io%2Fposts%2Fdocker%2F&text=A%20deep%20dive%20into%20Docker%20-%20"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none"></i>
    </button>
  </span>
</div>

  </div>
  <!-- .post-tail-bottom -->
</div>
<!-- div.post-tail-wrapper -->


  

  
</article>

          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get the last 5 posts from lastmod list. -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/sysblob.github.io/posts/semaphore/">Semaphore - An open-source Ansible GUI</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/sysblob.github.io/posts/linux/">An Overview of Linux</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/sysblob.github.io/posts/docker/">A deep dive into Docker</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/sysblob.github.io/posts/myhomelab/">Homelabbing (Sysblob.com)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/sysblob.github.io/posts/plex/">Plex and the *ARR stack</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/ansible/">ansible</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/automation/">automation</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/bookstack/">bookstack</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/cloud-init/">cloud-init</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/containers/">containers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/devops/">devops</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/docker/">docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/documentation/">documentation</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/github/">github</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/guacamole/">guacamole</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
                
                <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  
    
  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/sysblob.github.io/posts/jekyll/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
    class="small"
  
  data-ts="1692763200"
  data-df="ll"
  
>
  Aug 23, 2023
</time>

              <h4 class="pt-0 my-2">This website is made with Jekyll</h4>
              <div class="text-muted small">
                <p>
                  





                  Introduction

I’ve spent a lot of time building websites. When I was wee youngster I remember the thrill of logging into free template providers like Geocities or Angelfire that made it so easy. I ...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


              
                
                <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/sysblob.github.io/posts/jekyll/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>This website is made with Jekyll</p>
    </a>
  

  
    <a
      href="/sysblob.github.io/posts/guacamole/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Apache Guacamole for a remote lab</p>
    </a>
  
</nav>

              
                
                <!--  The comments switcher -->


              
            

            <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>Sysblob.com
      </p>

      <p>©
        2023
        <a href="https://twitter.com/sysblob">Sysblob</a>.
        
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
          >Some rights reserved.</span>
        
      </p>
    </div>
  </div>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/ansible/">ansible</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/automation/">automation</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/bookstack/">bookstack</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/cloud-init/">cloud-init</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/containers/">containers</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/devops/">devops</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/docker/">docker</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/documentation/">documentation</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/github/">github</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/sysblob.github.io/tags/guacamole/">guacamole</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.9/dayjs.min.js,npm/dayjs@1.11.9/locale/en.min.js,npm/dayjs@1.11.9/plugin/relativeTime.min.js,npm/dayjs@1.11.9/plugin/localizedFormat.min.js,npm/tocbot@4.21.1/dist/tocbot.min.js"></script>






<script defer src="/sysblob.github.io/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/sysblob.github.io/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

